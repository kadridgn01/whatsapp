<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Wp ‚Äî Sohbet</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0b74ff">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="assets/icon-192.png">

<style>
:root{
  --bg:#efe6df;           /* sayfanƒ±n kremimsi arka planƒ± */
  --paper:#f7f0ea;
  --chat:#fff;            /* balonlar */
  --ink:#19212a;          /* metin */
  --muted:#697787;
  --blue-1:#2aa0ff;       /* ba≈ülƒ±k gradyanƒ± */
  --blue-2:#005bff;
  --accent:#0b74ff;
  --me:#0b77ff;
  --radius:22px;
  --shadow:0 1px 2px rgba(0,0,0,.04), 0 8px 24px rgba(0,0,0,.06);
  --pad:14px;
  --gutter: clamp(16px, 3vw, 22px);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  line-height:1.45; -webkit-font-smoothing:antialiased;}

.app{min-height:100dvh; display:flex; flex-direction:column; }

/* ==== √úst Bar ==== */
.topbar{
  background: linear-gradient(180deg, var(--blue-1), var(--blue-2));
  color:#fff; padding: env(safe-area-inset-top) var(--gutter) 12px;
  position:sticky; top:0; z-index:3; box-shadow:0 2px 16px rgba(0,0,0,.15);
}
.topbar .row{display:flex; align-items:center; gap:12px; margin-top:10px}
.topbar .back{
  width:38px; height:38px; display:grid; place-items:center; border-radius:50%;
  background:rgba(255,255,255,.15);
}
.topbar h1{
  font-size:18px; margin:0; font-weight:700; letter-spacing:.2px;
}
.topbar .meta{ margin-left:auto; display:flex; gap:12px; align-items:center;}
.icon{ width:22px; height:22px; opacity:.95; }
.avatar{ width:36px; height:36px; border-radius:50%; flex:0 0 auto;
  background:#fff url('assets/photo8.jpg') center/cover no-repeat; border:2px solid rgba(255,255,255,.5) }

/* ==== Mesaj Alanƒ± ==== */
.thread{ padding: 12px var(--gutter) 110px; display:flex; flex-direction:column; gap:14px; }

.voice{
  align-self:flex-start; max-width:86%; background:var(--chat); border-radius:20px;
  border-top-left-radius:6px; padding:10px 12px; box-shadow: var(--shadow);
  display:flex; align-items:center; gap:10px;
}
.voice .avatar{ width:34px; height:34px; border:0; background-image:url('assets/photo6.jpg'); }
.wave{ flex:1; height:34px; border-radius:16px; background:linear-gradient(180deg,#eaf3ff,#d0e7ff);
  display:flex; align-items:center; padding:0 10px; position:relative;}
.wave::after{ content:"09:12"; position:absolute; right:10px; font-size:12px; color:#426; opacity:.6}
.play{ width:38px; height:38px; border-radius:50%; background:linear-gradient(180deg,#3aa7ff,#0b74ff);
  display:grid; place-items:center; color:#fff; font-weight:900; }
.mic{ width:30px; height:30px; border-radius:50%; background:#e9f1ff; display:grid; place-items:center; color:#0b74ff;}

.msg{
  max-width:88%; padding:14px 16px; border-radius:18px; box-shadow:var(--shadow);
  line-height:1.5; font-size:16px; background:var(--chat); position:relative;
}
.msg small{ position:absolute; right:12px; bottom:-18px; color:#7b8a98; font-size:12px; }

.msg.me{
  align-self:flex-end; color:#fff; background: linear-gradient(180deg,#43b3ff,#0b77ff);
  border-bottom-right-radius:6px;
}
.msg.me small{ color:#d0e8ff; }

/* ==== Galeri ==== */
.gallery{ background:#fff8; border-radius:16px; padding:10px; box-shadow:var(--shadow); }
.grid{
  display:grid; gap:10px;
  grid-template-columns: 1fr 1fr;
}
.card{
  position:relative; overflow:hidden; border-radius:12px; background:#ddd; aspect-ratio:1/1;
  box-shadow:0 1px 10px rgba(0,0,0,.05);
}
.card.tall{ grid-row:span 2; }
.card img{ width:100%; height:100%; object-fit:cover; display:block; }
.badge{ position:absolute; right:6px; bottom:6px; font-size:11px; background:#eef6ff; color:#0b6bff;
  padding:2px 6px; border-radius:999px; font-weight:700; letter-spacing:.2px; }

.more::before{
  content:""; position:absolute; inset:0; backdrop-filter: blur(6px); background:rgba(0,0,0,.25);
}
.more span{ position:absolute; inset:0; display:grid; place-items:center; color:#fff; font-weight:700; font-size:18px; }

/* ==== Alt Giri≈ü √áubuƒüu ==== */
.inputbar{
  position:fixed; left:0; right:0; bottom:0; z-index:4; padding:10px var(--gutter) env(safe-area-inset-bottom);
  background:linear-gradient(180deg, rgba(255,255,255,0) 0%, var(--bg) 30%, var(--bg) 100%);
}
.input{
  background:#fefefe; border-radius:28px; padding:10px 12px; display:flex; align-items:center; gap:10px;
  box-shadow: var(--shadow); border:1px solid rgba(0,0,0,.06);
}
.input input{
  flex:1; border:0; outline:0; background:transparent; font-size:16px; color:#1a2430;
}
.btn{ width:40px; height:40px; border-radius:14px; display:grid; place-items:center; background:#eef2f6}
.btn.camera{ background:#eaf3ff; color:#0b74ff }
.fab{
  position: fixed; right:18px; bottom:86px; width:64px; height:64px; border-radius:28px;
  background: linear-gradient(180deg,#3aa7ff,#0b74ff); display:grid; place-items:center; color:#fff;
  box-shadow:0 10px 30px rgba(11,116,255,.35);
}

/* ==== Lightbox ==== */
.lightbox{ position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; align-items:center; justify-content:center; z-index:50; }
.lightbox.show{ display:flex; }
.lightbox img{ max-width:100vw; max-height:100vh; object-fit:contain; }
.close{
  position:fixed; top:14px; right:14px; width:40px; height:40px; border-radius:50%; background:rgba(255,255,255,.15);
  display:grid; place-items:center; color:#fff; font-weight:900; font-size:20px;
}
.ts{ font-size:12px; color:#8192a5; margin-top:8px; display:block; }

/* wider */
@media (min-width:600px){
  .app{ align-items:center; }
  .phone{ width:420px; box-shadow:0 20px 60px rgba(0,0,0,.18); border-radius:28px; overflow:hidden; }
  body{ background:linear-gradient(180deg,#cfe2ff 0%, #efe6df 44%); }
  .topbar{ border-top-left-radius:28px; border-top-right-radius:28px; }
}
</style>
</head>
<body>
<div class="app">
  <div class="phone">
    <header class="topbar">
      <div class="row">
        <div class="back" aria-label="Geri">‚Üê</div>
        <div class="avatar"></div>
        <div>
          <h1>M√ºd√ºre Hanƒ±m Rize</h1>
        </div>
        <div class="meta">
          <img class="icon" src="assets/icon-192.png" alt="">
          <img class="icon" src="assets/icon-192.png" alt="">
          <img class="icon" src="assets/icon-192.png" alt="">
        </div>
      </div>
    </header>

    <main class="thread">
      <div class="voice">
        <div class="mic">üé§</div>
        <div class="play">‚ñ∂</div>
        <div class="wave" aria-label="Ses mesajƒ± dalga g√∂r√ºn√ºm√º"></div>
      </div>

      <div class="msg" style="align-self:flex-start">
        <div><strong>Ka√ß gibi burada olursunuz, G√ºne≈ü Hanƒ±m?</strong></div>
        <small>09:35</small>
      </div>

      <div class="msg me">
        √ñƒüleden sonra varmƒ±≈ü olurum.
        <small>09:52 ‚úì‚úì</small>
      </div>

      <section class="gallery">
        <div class="grid">
          <figure class="card tall">
            <img src="assets/photo1.jpg" alt="Grup sarƒ±lmasƒ±" data-hd="assets/photo1.jpg">
            <figcaption class="badge">HD</figcaption>
          </figure>
          <figure class="card tall">
            <img src="assets/photo2.jpg" alt="Yanak yanaƒüa" data-hd="assets/photo2.jpg">
            <figcaption class="badge">HD</figcaption>
          </figure>
          <figure class="card">
            <img src="assets/photo3.jpg" alt="Masa ba≈üƒ±" data-hd="assets/photo3.jpg">
            <figcaption class="badge">HD</figcaption>
          </figure>
          <figure class="card more">
            <img src="assets/photo4.jpg" alt="Daha fazla" data-hd="assets/photo4.jpg" aria-hidden="true">
            <span>+5</span>
          </figure>
        </div>
        <span class="ts">12:52</span>
      </section>

      <figure class="card" style="border-radius:16px; overflow:hidden">
        <img src="assets/photo5.jpg" alt="Okul bah√ßesi" data-hd="assets/photo5.jpg">
      </figure>
    </main>

    <footer class="inputbar">
      <div class="input">
        <div class="btn">üòä</div>
        <input aria-label="Mesaj" placeholder="Message">
        <div class="btn">üìé</div>
        <div class="btn camera">üì∑</div>
      </div>
      <div class="fab">üéôÔ∏è</div>
    </footer>
  </div>
</div>

<!-- Lightbox -->
<div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Fotoƒüraf g√∂r√ºnt√ºleyici">
  <button class="close" aria-label="Kapat">‚úï</button>
  <img src="" alt="">
</div>

<script>
// PWA SW
if('serviceWorker' in navigator){
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('sw.js');
  });
}

// Lightbox
const lb = document.getElementById('lightbox');
const lbImg = lb.querySelector('img');
const closeBtn = lb.querySelector('.close');
let galleryImages = [...document.querySelectorAll('.card img')];
let idx = 0;

function openAt(i){
  idx = i;
  const el = galleryImages[idx];
  lbImg.src = el.dataset.hd || el.src;
  lb.classList.add('show');
}
function closeLb(){ lb.classList.remove('show'); }

galleryImages.forEach((img, i) => {
  img.addEventListener('click', () => openAt(i));
});
closeBtn.addEventListener('click', closeLb);
lb.addEventListener('click', (e) => { if(e.target === lb) closeLb(); });

// Swipe (mobil) ve klavye desteƒüi
let startX = null;
lb.addEventListener('touchstart', e => { startX = e.touches[0].clientX; }, {passive:true});
lb.addEventListener('touchmove', e => {
  if(startX === null) return;
  const dx = e.touches[0].clientX - startX;
  if(Math.abs(dx) > 60){
    idx = (idx + (dx<0 ? 1 : -1) + galleryImages.length) % galleryImages.length;
    openAt(idx);
    startX = null;
  }
}, {passive:true});
document.addEventListener('keydown', e => {
  if(!lb.classList.contains('show')) return;
  if(e.key === 'Escape') closeLb();
  if(e.key === 'ArrowRight') openAt((idx+1)%galleryImages.length);
  if(e.key === 'ArrowLeft') openAt((idx-1+galleryImages.length)%galleryImages.length);
});
</script>
</body>
</html>
