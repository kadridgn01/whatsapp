<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Müdire Hanım Rize — Sohbet</title>
<link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#0B6DFF" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link rel="apple-touch-icon" href="assets/icon-192.png" />
<style>
:root{
  --bg:#efe6df; --bg2:#f7eee6;
  --ink:#1e2630; --muted:#7a8a99;
  --blue1:#36a5ff; --blue2:#0b6dff;        /* başlık gradyanı */
  --me1:#3aa8ff; --me2:#0b77ff;            /* giden balon */
  --sheet:#ffffff; --sheet-border:#cae4ff; /* foto kartı */
  --gutter:clamp(14px,3.6vw,20px);
  --shadow-1:0 12px 32px rgba(16,79,180,.16);
  --shadow-2:0 3px 12px rgba(0,0,0,.08);
}

/* reset */
*{box-sizing:border-box} html,body{margin:0}
body{
  background:linear-gradient(180deg,#dfefff 0%,var(--bg) 8%,var(--bg2) 100%);
  color:var(--ink);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  -webkit-font-smoothing:antialiased;
}
.phone{max-width:480px;margin:0 auto}

/* STATUS */
.status{height:32px;padding:6px var(--gutter) 0;color:#fff;
  background:linear-gradient(180deg,#52b8ff 0%,#0b6dff 100%);
  display:flex;align-items:center}
.clock{font-weight:800;text-shadow:0 1px 0 rgba(0,0,0,.2)}
.sb{margin-left:auto;display:flex;gap:10px;opacity:.95}
.sb svg{width:18px;height:18px}

/* APP BAR */
.app{position:sticky;top:0;z-index:10;padding:12px var(--gutter);
  background:linear-gradient(180deg,var(--blue1),var(--blue2));
  color:#fff;box-shadow:0 18px 36px rgba(0,0,0,.18)}
.app-inner{display:flex;align-items:center;gap:12px}
.app .back{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;
  background:linear-gradient(180deg,rgba(255,255,255,.28),rgba(255,255,255,.12))}
.app .back svg{width:18px;height:18px}
.app .avatar{width:36px;height:36px;border-radius:50%;background:#fff url('assets/photo6.jpg') center/cover no-repeat;border:2px solid rgba(255,255,255,.6)}
.title{font-size:20px;font-weight:900;letter-spacing:.2px}
.actions{margin-left:auto;display:flex;gap:12px}
.actions .btn{width:36px;height:36px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(180deg,rgba(255,255,255,.28),rgba(255,255,255,.12))}

/* THREAD */
.thread{padding:14px var(--gutter) 120px;display:flex;flex-direction:column;gap:16px}

/* VOICE */
.voice{align-self:flex-start;width:100%;background:linear-gradient(180deg,#f0fbff,#dff1ff);
  border-radius:22px;border-top-left-radius:10px;padding:10px 12px;box-shadow:var(--shadow-2);
  display:flex;align-items:center;gap:10px;position:relative}
.voice .ava{width:40px;height:40px;border-radius:50%;background:#fff url('assets/photo6.jpg') center/cover no-repeat;border:2px solid rgba(255,255,255,.8);box-shadow:0 2px 6px rgba(0,0,0,.15);position:relative}
.voice .mic{position:absolute;left:43px;top:30px;width:18px;height:18px;border-radius:50%;background:linear-gradient(180deg,#5bb7ff,#0b74ff);color:#fff;display:grid;place-items:center;font-size:11px;font-weight:900;border:1px solid rgba(255,255,255,.7);box-shadow:0 3px 8px rgba(11,116,255,.35)}
.play{width:38px;height:38px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(180deg,#3fb1ff,#0b77ff);color:#fff;font-weight:900;box-shadow:0 10px 22px rgba(11,119,255,.35)}
.wave{flex:1;height:38px;border-radius:18px;background:linear-gradient(180deg,#eaf3ff,#d3e7ff);position:relative;overflow:hidden}
.wave::before{content:"";position:absolute;inset:10px 12px;background:repeating-linear-gradient(90deg,#7fb2ff 0 2px, transparent 2px 6px)}
.vtime{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#58799a;font-weight:700;font-size:12px}

/* MESSAGE BUBBLES */
.msg{max-width:88%;padding:14px 16px;border-radius:18px;background:linear-gradient(180deg,#f4fbff,#e6f2ff);box-shadow:var(--shadow-2);position:relative}
.msg .t{position:absolute;right:12px;bottom:-16px;color:#90a0b2;font-size:12px}
.msg.me{align-self:flex-end;background:linear-gradient(180deg,var(--me1),var(--me2));color:#fff;border-bottom-right-radius:10px}
.msg.me .t{color:#cfe6ff}
.msg .tick{margin-left:6px;opacity:.9}

/* ALBUM (2×2 – referansla aynı) */
.album{
  background:var(--sheet);
  border:2px solid var(--sheet-border);
  border-radius:22px;
  padding:12px;                 /* kartın iç boşluğu */
  box-shadow:var(--shadow-1);
  margin-left:calc(-1*var(--gutter));
  margin-right:calc(-1*var(--gutter));
}
.album .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
.tile{position:relative;overflow:hidden;border-radius:14px;background:#e6edf5;aspect-ratio:1/1}
.tile img{width:100%;height:100%;object-fit:cover;display:block}

/* küçük HD noktası + saat */
.badge{
  position:absolute;left:6px;bottom:6px;
  width:18px;height:18px;border-radius:50%;
  display:grid;place-items:center;
  font-size:9px;font-weight:800;line-height:1;
  color:#1b2b45;background:#fff;border:1px solid rgba(255,255,255,.85);box-shadow:0 1px 2px rgba(0,0,0,.15);
}
.stamp{position:absolute;right:8px;bottom:8px;color:#fff;font-weight:800;font-size:12px;text-shadow:0 2px 8px rgba(0,0,0,.45)}
.tile.more img{filter:blur(3px) saturate(.9);transform:scale(1.04)}
.tile.more::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.18),rgba(0,0,0,.4))}
.tile.more .plus{position:absolute;inset:0;display:grid;place-items:center;color:#fff;font-weight:900;font-size:28px;letter-spacing:.5px}

/* BIG PHOTO CARD (ayrı kart) */
.sheet{background:var(--sheet);border:2px solid var(--sheet-border);border-radius:22px;padding:12px;box-shadow:var(--shadow-1);margin-left:calc(-1*var(--gutter));margin-right:calc(-1*var(--gutter))}
.sheet .media{overflow:hidden;border-radius:16px}
.sheet img{width:100%;height:auto;display:block}

/* INPUT BAR + FLOAT MIC */
.inputwrap{position:fixed;left:0;right:0;bottom:0;padding:10px var(--gutter) calc(env(safe-area-inset-bottom) + 10px);background:linear-gradient(180deg,rgba(255,255,255,0) 0%,var(--bg2) 30%,var(--bg2) 100%);display:flex;gap:14px;align-items:flex-end}
.input{flex:1;display:flex;align-items:center;gap:10px;padding:12px 14px;border-radius:28px;background:linear-gradient(180deg,#fff,#f5f7fb);border:1px solid rgba(0,0,0,.06);box-shadow:0 10px 28px rgba(0,0,0,.12), inset 0 1px 0 rgba(255,255,255,.7)}
.input .ib{width:40px;height:40px;border-radius:14px;display:grid;place-items:center;background:#eef3f8}
.input input{flex:1;border:0;outline:0;background:transparent;font-size:16px;color:#1a2430}
.fmic{width:70px;height:70px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(180deg,#36a5ff,#0b6dff);box-shadow:0 18px 40px rgba(11,109,255,.35);color:#fff;font-size:26px;border:1px solid rgba(255,255,255,.3)}

/* LIGHTBOX */
#lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,.88);z-index:100;align-items:center;justify-content:center}
#lightbox img{max-width:100vw;max-height:100vh;object-fit:contain}
#lightbox .close{position:fixed;top:14px;right:14px;width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.15);color:#fff;font-weight:900;font-size:20px;border:1px solid rgba(255,255,255,.25)}

/* desktop */
@media (min-width:640px){
  .phone{margin:22px auto;border-radius:28px;overflow:hidden;box-shadow:0 30px 90px rgba(0,0,0,.18)}
}
/* --- FIX PACK: kareler + kart aralığı + saat hizası --- */

/* Foto kartı referanstaki gibi daha dolu ve kompakt */
.album{
  padding:12px;                 /* 8–12px arası oynatabilirsin */
  border-radius:22px;
  border:2px solid #d9ecff;
}

/* 2×2 grid boşluğu */
.album .grid{ gap:12px; }       /* 8–12 referans hissi */

/* Kare kilidi (tüm tarayıcılarda çalışır) */
.tile{
  position:relative;
  overflow:hidden;
  border-radius:14px;           /* iç köşeler */
  background:#e6edf5;
}
.tile::before{
  content:""; display:block; padding-top:100%; /* %100 kare */
}
.tile > img{
  position:absolute; inset:0;
  width:100%; height:100%; object-fit:cover;
}

/* HD rozeti ve saat */
.badge{
  position:absolute; left:8px; bottom:8px;
  height:18px; min-width:28px; padding:0 6px;
  display:grid; place-items:center;
  border-radius:999px;          /* küçük pill */
  font-size:10px; font-weight:800;
  background:#fff; color:#0b6bff;
  border:1px solid rgba(255,255,255,.9);
  box-shadow:0 1px 3px rgba(0,0,0,.12);
}
.stamp{
  position:absolute; right:8px; bottom:8px;
  color:#fff; font-weight:800; font-size:12px;
  text-shadow:0 2px 8px rgba(0,0,0,.45);
}

/* +5 karesi */
.tile.more::after{
  content:""; position:absolute; inset:0;
  backdrop-filter:blur(3px);
  background:linear-gradient(180deg,rgba(0,0,0,.18),rgba(0,0,0,.4));
}
.tile.more .plus{
  position:absolute; inset:0; display:grid; place-items:center;
  color:#fff; font-weight:900; font-size:28px;
}

/* Saat etiketinin taşmaması için boşluk */
.msg{ margin-bottom:16px; }
.msg .t{ bottom:-12px; }
/* ==== HARD OVERRIDE: boşluk 0 + kare kilidi + büyük görsel ==== */
.album.nogap { 
  padding: 4px !important;                 /* foto daha büyük olsun diye küçük padding */
  border-radius: 22px !important;
  border: 2px solid #d9ecff !important;
  margin-left: calc(-1 * var(--gutter)) !important;
  margin-right: calc(-1 * var(--gutter)) !important;
}

.album.nogap .grid { 
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0,1fr)) !important;
  gap: 0 !important;                        /* ARADAKİ BOŞLUK = 0 */
}

/* Kare kilidi: tüm tarayıcılar */
.album.nogap .tile { 
  position: relative !important;
  overflow: hidden !important;
  border-radius: 0 !important;              /* iç köşeleri köşeli yap */
  box-shadow: none !important;
  background: #e6edf5 !important;
}
.album.nogap .tile::before{
  content:"" !important; display:block !important; padding-top:100% !important;
}
.album.nogap .tile > img{
  position:absolute !important; inset:0 !important;
  width:100% !important; height:100% !important; object-fit:cover !important;
}
/* Sadece dış köşeleri yuvarla */
.album.nogap .tile:nth-child(1){ border-top-left-radius:16px !important; }
.album.nogap .tile:nth-child(2){ border-top-right-radius:16px !important; }
.album.nogap .tile:nth-child(3){ border-bottom-left-radius:16px !important; }
.album.nogap .tile:nth-child(4){ border-bottom-right-radius:16px !important; }

/* İç kontur vs. varsa kapat */
.album.nogap .tile::after{ content:none !important; }

</style>
</head>
<body>
<div class="phone">
  <!-- STATUS -->
  <div class="status">
    <div class="clock">17:23</div>
    <div class="sb" aria-hidden="true">
      <svg viewBox="0 0 24 24" fill="none"><path d="M2 20h2M6 16h2M10 12h2M14 8h2M18 4h2" stroke="white" stroke-width="2" stroke-linecap="round"/></svg>
      <svg viewBox="0 0 24 24" fill="none"><path d="M3 8c5-4 13-4 18 0M6 11c3-3 9-3 12 0M9 14c2-2 4-2 6 0" stroke="white" stroke-width="2" stroke-linecap="round"/></svg>
      <svg viewBox="0 0 28 16" fill="none"><rect x="1" y="3" width="22" height="10" rx="2" stroke="white" stroke-width="2"/><rect x="3" y="5" width="18" height="6" rx="1" fill="white"/><rect x="24" y="6" width="3" height="4" rx="1" fill="white"/></svg>
    </div>
  </div>

  <!-- APP BAR -->
  <div class="app">
    <div class="app-inner">
      <button class="back" aria-label="Geri">
        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
      </button>
      <div class="avatar"></div>
      <div class="title">Müdire Hanım Rize</div>
      <div class="actions">
        <div class="btn" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="12" height="12" rx="3" stroke="white" stroke-width="2"/><path d="M15 10l6-3v10l-6-3v-4z" fill="white"/></svg></div>
        <div class="btn" aria-hidden="true"><svg viewBox="0 0 24 24" fill="none"><path d="M6 2l4 3-2 3a16 16 0 007 7l3-2 3 4-2 2c-2 2-11-3-14-6S4 4 6 2z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
        <div class="btn" aria-hidden="true"><svg viewBox="0 0 24 24" fill="white"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></svg></div>
      </div>
    </div>
  </div>

  <!-- THREAD -->
  <main class="thread">
    <!-- voice -->
    <div class="voice">
      <div class="ava"></div>
      <div class="mic">🎙</div>
      <div class="play">▶</div>
      <div class="wave"></div>
      <div class="vtime">09:12</div>
    </div>

    <!-- incoming -->
    <div class="msg">
      <strong>Kaç gibi burada olursunuz, Güneş Hanım?</strong>
      <span class="t">09:35</span>
    </div>

    <!-- outgoing -->
    <div class="msg me">
      Öğleden sonra varmış olurum.
      <span class="t">09:52 <span class="tick">✓✓</span></span>
    </div>

    <!-- 2×2 album -->
    <section class="album nogap">
      <div class="grid">
        <figure class="tile">
          <img src="assets/photo1.jpg" alt="Foto 1" data-hd="assets/photo1.jpg">
          <div class="badge">HD</div><div class="stamp">12:52</div>
        </figure>
        <figure class="tile">
          <img src="assets/photo2.jpg" alt="Foto 2" data-hd="assets/photo2.jpg">
          <div class="badge">HD</div><div class="stamp">12:52</div>
        </figure>
        <figure class="tile">
          <img src="assets/photo3.jpg" alt="Foto 3" data-hd="assets/photo3.jpg">
          <div class="badge">HD</div><div class="stamp">12:52</div>
        </figure>
        <figure class="tile more">
          <img src="assets/photo4.jpg" alt="Daha fazla" aria-hidden="true">
          <div class="plus">+5</div>
        </figure>
      </div>
    </section>

    <!-- big photo card -->
    <section class="sheet">
      <div class="media">
        <img src="assets/photo5.jpg" alt="Foto 5" data-hd="assets/photo5.jpg">
      </div>
    </section>
  </main>

  <!-- INPUT + FLOAT MIC -->
  <div class="inputwrap">
    <div class="input">
      <div class="ib">😊</div>
      <input placeholder="Message" aria-label="Mesaj yazın" />
      <div class="ib">📎</div>
      <div class="ib">📷</div>
    </div>
    <button class="fmic" aria-label="Sesli mesaj">🎤</button>
  </div>
</div>

<!-- LIGHTBOX -->
<div id="lightbox" role="dialog" aria-modal="true" aria-label="Fotoğraf görüntüleyici">
  <button class="close" aria-label="Kapat">✕</button>
  <img src="" alt="" />
</div>

<script>
const lb=document.getElementById('lightbox');
const lbImg=lb.querySelector('img');
const closeBtn=lb.querySelector('.close');
const thumbs=[...document.querySelectorAll('.tile img')];

function openAt(src){ lbImg.src=src; lb.style.display='flex'; }
function closeLb(){ lb.style.display='none'; }

thumbs.forEach(t=>t.addEventListener('click',()=>openAt(t.dataset.hd||t.src)));
closeBtn.addEventListener('click',closeLb);
lb.addEventListener('click',e=>{ if(e.target===lb) closeLb(); });
</script>
</body>
</html>
